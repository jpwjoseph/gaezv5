% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/url_builder.R
\name{build_gaez_url}
\alias{build_gaez_url}
\title{Build GAEZ v5 download URL}
\usage{
build_gaez_url(
  variable = "RES05-YX",
  time_period = "FP4160",
  start_year = NULL,
  end_year = NULL,
  climate_model = NULL,
  ssp = "SSP370",
  crop = "WHEA",
  water_management_level = "HRLM",
  water_supply = "WSR",
  resolution = NA,
  interactive = TRUE
)
}
\arguments{
\item{variable}{Character - Variable name or code. Default is "RES05-YX"
(attainable yield). Use \code{lookup_gaez_variable()} to find variable codes.}

\item{time_period}{Character - Time period code. Default is "FP4160" (2041-2060).
Valid options: "HP8100", "HP0120", "FP2140", "FP4160", "FP6180", "FP8100"}

\item{start_year}{Numeric - Start year for time period lookup (optional). Can be
provided alone or with end_year. If only start_year is given, returns the time
period containing that year. If both years are provided and span multiple periods,
prompts for selection. Must be between 1981-2100.}

\item{end_year}{Numeric - End year for time period lookup (optional). Can be
provided alone or with start_year. If only end_year is given, returns the time
period containing that year. Must be between 1981-2100.}

\item{climate_model}{Character - Climate model. NULL for auto-selection based
on time period. Historical periods use "AGERA5", future periods default to
"ENSEMBLE". Other options: "GFDL-ESM4", "IPSL-CM6A-LR", "MPI-ESM1-2-HR",
"MRI-ESM2-0", "UKESM1-0-LL"}

\item{ssp}{Character - SSP scenario. Default is "SSP370". Historical periods
use "HIST". Future periods use "SSP126", "SSP370", or "SSP585".}

\item{crop}{Character - Crop name or code. Default is "WHEA" (wheat).
Use \code{lookup_gaez_crop()} to find crop codes.}

\item{water_management_level}{Character - Water management code. Default is
"HRLM" (High input, Rain-fed, Low management). Other options: "HILM"
(irrigated), "LRLM" (low input, rain-fed), "LILM" (low input, irrigated).}

\item{water_supply}{Character - Water supply code for actual yields/gaps
(themes 5-6). Default is "WSR" (rain-fed). Other options: "WSI" (irrigated),
"WST" (total).}

\item{resolution}{Character - Resolution preference. Options: "1km", "10km", or
NA (uses default for variable). Note: not all variables have multiple
resolutions.}

\item{interactive}{Logical - Whether to prompt for user input when multiple
matches are found (for crops or time periods). Default is TRUE. Set to FALSE
to automatically select the best match without prompting.}
}
\value{
Character string containing the complete HTTPS download URL
}
\description{
Constructs a complete download URL for GAEZ v5 datasets from Google Cloud
Storage. Automatically validates parameters and suggests alternative
resolutions or time series variants when available.
}
\details{
The function handles different URL structures for different GAEZ themes:
\itemize{
\item Theme 1: Land & Water Resources (static maps)
\item Theme 2: Agro-climatic Resources (time series)
\item Theme 3: Agro-climatic Potential Yield (4-letter crop codes)
\item Theme 4: Suitability & Attainable Yield (3-letter crop codes)
\item Theme 5: Actual Yields & Production (3-letter crop codes)
\item Theme 6: Yield & Production Gaps (3-letter crop codes)
}
}
\examples{
\dontrun{
# Basic usage - wheat yield for 2041-2060
build_gaez_url()

# Specific crop and historical period
build_gaez_url(
  crop = "maize",
  time_period = "HP0120",
  climate_model = "AGERA5"
)

# Using year ranges instead of period codes
build_gaez_url(
  crop = "sorghum",
  start_year = 2041,
  end_year = 2060,
  ssp = "SSP370"
)

# Using single year - finds containing period
build_gaez_url(
  crop = "maize",
  start_year = 2050
)

# Year range spanning multiple periods - prompts for selection (interactive mode)
build_gaez_url(
  crop = "wheat",
  start_year = 2030,
  end_year = 2070
)

# Auto-select without prompting
build_gaez_url(
  crop = "wheat",
  start_year = 2030,
  end_year = 2070,
  interactive = FALSE
)

# Irrigated scenario
build_gaez_url(
  crop = "rice",
  water_management_level = "HILM"
)
}

}
